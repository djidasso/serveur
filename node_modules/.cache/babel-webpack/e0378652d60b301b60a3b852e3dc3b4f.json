{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/didia/angularprojet/asso-djida/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/panier.service\";\nconst _c0 = [\"paypal\"];\n\nfunction PaypalComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"faire un don d'\", ctx_r0.product.price, \"\\u20AC \");\n  }\n}\n\nfunction PaypalComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"merci de votre don \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class PaypalComponent {\n  constructor(panier) {\n    this.panier = panier;\n    this.cartItems = [];\n    this.totalAmount = 0;\n    this.product = {\n      price: this.panier.totalAmount,\n      description: \"don\"\n    };\n    this.paidFor = false;\n    this.cartItems = this.panier.getItemsFromCart();\n    this.prods = this.panier.getCartCount();\n    this.cartTotalValue = this.panier.totalAmount;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    paypal.Buttons({\n      createOrder: (data, actions) => {\n        return actions.order.create({\n          purchase_units: [{\n            description: this.product.description,\n            amount: {\n              value: this.product.price\n            }\n          }]\n        });\n      },\n      onApprove: function () {\n        var _ref = _asyncToGenerator(function* (data, actions) {\n          const order = yield actions.order.capture();\n          _this.paidFor = true;\n          console.log(order);\n        });\n\n        return function onApprove(_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      onError: err => {\n        console.log(err);\n      }\n    }).render(this.paypalElement.nativeElement);\n  }\n\n}\n\nPaypalComponent.ɵfac = function PaypalComponent_Factory(t) {\n  return new (t || PaypalComponent)(i0.ɵɵdirectiveInject(i1.PanierService));\n};\n\nPaypalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PaypalComponent,\n  selectors: [[\"app-paypal\"]],\n  viewQuery: function PaypalComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paypalElement = _t.first);\n    }\n  },\n  decls: 6,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"paypal\", \"\"]],\n  template: function PaypalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Don\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, PaypalComponent_div_2_Template, 3, 1, \"div\", 0);\n      i0.ɵɵtemplate(3, PaypalComponent_div_3_Template, 3, 0, \"div\", 0);\n      i0.ɵɵelement(4, \"div\", null, 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.paidFor);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.paidFor);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwYXlwYWwuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Users/didia/angularprojet/asso-djida/src/app/paypal/paypal.component.ts"],"names":["i0","i1","_c0","PaypalComponent_div_2_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate1","product","price","PaypalComponent_div_3_Template","PaypalComponent","constructor","panier","cartItems","totalAmount","description","paidFor","getItemsFromCart","prods","getCartCount","cartTotalValue","ngOnInit","paypal","Buttons","createOrder","data","actions","order","create","purchase_units","amount","value","onApprove","capture","console","log","onError","err","render","paypalElement","nativeElement","ɵfac","PaypalComponent_Factory","t","ɵɵdirectiveInject","PanierService","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","PaypalComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","decls","vars","consts","template","PaypalComponent_Template","ɵɵtemplate","ɵɵelement","ɵɵproperty","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../service/panier.service\";\r\nconst _c0 = [\"paypal\"];\r\nfunction PaypalComponent_div_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵelementStart(1, \"h2\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\"faire un don d'\", ctx_r0.product.price, \"\\u20AC \");\r\n} }\r\nfunction PaypalComponent_div_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵelementStart(1, \"h2\");\r\n    i0.ɵɵtext(2, \"merci de votre don \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nexport class PaypalComponent {\r\n    constructor(panier) {\r\n        this.panier = panier;\r\n        this.cartItems = [];\r\n        this.totalAmount = 0;\r\n        this.product = {\r\n            price: this.panier.totalAmount,\r\n            description: \"don\",\r\n        };\r\n        this.paidFor = false;\r\n        this.cartItems = this.panier.getItemsFromCart();\r\n        this.prods = this.panier.getCartCount();\r\n        this.cartTotalValue = this.panier.totalAmount;\r\n    }\r\n    ngOnInit() {\r\n        paypal\r\n            .Buttons({\r\n            createOrder: (data, actions) => {\r\n                return actions.order.create({\r\n                    purchase_units: [\r\n                        {\r\n                            description: this.product.description,\r\n                            amount: {\r\n                                value: this.product.price\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n            },\r\n            onApprove: async (data, actions) => {\r\n                const order = await actions.order.capture();\r\n                this.paidFor = true;\r\n                console.log(order);\r\n            },\r\n            onError: (err) => {\r\n                console.log(err);\r\n            }\r\n        })\r\n            .render(this.paypalElement.nativeElement);\r\n    }\r\n}\r\nPaypalComponent.ɵfac = function PaypalComponent_Factory(t) { return new (t || PaypalComponent)(i0.ɵɵdirectiveInject(i1.PanierService)); };\r\nPaypalComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PaypalComponent, selectors: [[\"app-paypal\"]], viewQuery: function PaypalComponent_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(_c0, 7);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paypalElement = _t.first);\r\n    } }, decls: 6, vars: 2, consts: [[4, \"ngIf\"], [\"paypal\", \"\"]], template: function PaypalComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"h1\");\r\n        i0.ɵɵtext(1, \"Don\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(2, PaypalComponent_div_2_Template, 3, 1, \"div\", 0);\r\n        i0.ɵɵtemplate(3, PaypalComponent_div_3_Template, 3, 0, \"div\", 0);\r\n        i0.ɵɵelement(4, \"div\", null, 1);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.paidFor);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.paidFor);\r\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwYXlwYWwuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}